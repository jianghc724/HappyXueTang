<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link href="/css/base.css" rel="stylesheet" type="text/css" />
    <link href="/3rd/st/container.min.css" rel="stylesheet" type="text/css"/>
    <link href="/3rd/st/grid.min.css" rel="stylesheet" type="text/css"/>
    <title>快乐学堂</title>
</head>

<body>
    <div id="wrap">
    <div id="mainbody"></div>

    </div>

    <footer id="footer">
        <hr/>
        <a href="" target="_blank">快乐学堂</a>
        &copy; 2016
    </footer>

    <script type="text/template" id="tpl-mainbody">
        {% if isLoading %}
        <div id="successHolder">
            <img src="/img/loading.gif" />
            <div>正在加载……</div>
        </div>
        {% else %}
            <div id="curriculumn" class="ui grid">
                <div id="week-banner" class="three column row">
                </div>
                <div id="week-day" class="seven column row">
                </div>
                <div id="course-content" class="two column">
                    <div id="courses" class="six row column">
                        jkasljdfklas
                    </div>
                    <div id="courses" class="six row column">
                        halsflksajl
                    </div>
                </div>
            </div>
        {% endif %}
    </script>
    <script src="/3rd/jquery.js"></script>
    <script src="/3rd/swig.js"></script>
    <script src="/js/weixin_lib.js"></script>
    <script src="/js/base.js"></script>
    <script>
    var locals = {
        isLoading: true,
        courses:[],
    };
    var render = function () {
        $('#mainbody').html(swig.render($('#tpl-mainbody').html(), {locals: locals}));
    };
    $(function () {
        render();
        api.get('/api/u/course/list', {open_id: urlParam.open_id, week:13}, function (data) {
            locals.isLoading = false;
            locals.courses = data;
            render();
        }, dftFail);
    });
    </script>
</body>
</html>
